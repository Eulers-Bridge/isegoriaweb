<% provide(:title, 'Sign up') %>
<h1>Sign Up </h1>
<%= form_for(@user) do |f| %>
<%= render 'shared/error_messages' %>
  <div class="form-group">
    <%= f.label :first_name, "First Name" %>
    <%= f.text_field :first_name, class: "form-control", placeholder: "Enter first name" %>
    <!--p class="help-block">Example block-level help text here.</p-->
  </div>
  <div class="form-group">
    <%= f.label :last_name, "Last Name" %>
    <%= f.text_field :last_name, class: "form-control", placeholder: "Enter last name" %>
  </div>
   <div class="form-group">
    <%= f.label :email, "Email Addresss" %>
    <%= f.text_field :email, class: "form-control", placeholder: "Enter email" %>
  </div>
  <div class="form-group">
    <%= f.label :username, "Username" %>
    <%= f.text_field :username, class: "form-control", placeholder: "Enter username" %>
  </div>
  <div class="form-group">
    <%= f.label :password, "Password" %>
    <%= f.password_field :password, class: "form-control", placeholder: "Enter password" %>
  </div>
  <div class="form-group">
    <%= f.label :password_confirmation, "Confirm Password" %>
    <%= f.password_field :password_confirmation, class: "form-control", placeholder: "Confirm password" %>
  </div>
  <div class="form-group">
  	<label>Account Type</label>
  	<div class="radio">
    	<label>
      		<input type="radio" name="user[account_type]" id="rbIndependentCandidate" value="ind" checked="true"> Independent Candidate
    	</label>
    	<label>
      	<input type="radio" name="user[account_type]" id="rbTicketManager" value="tkt"> Ticket Manager
    	</label>
  	</div>
  </div>
  <div class="form-group" id="divPosition">
  	<label for="slPosition">Position</label>
  	<select class="form-control" name="user[position]">
  		<option value="0">Select one</option>
  		<option value="1">President</option>
  		<option value="2">Vicepresident</option>
  		<option value="3">Secretary</option>
  		<option value="4">Treasurer</option>
  	</select>
  </div>
  <div class="form-group" id="divTicketName" style="display: none">
    <%= f.label :ticket_name, "Ticket Name" %>
    <%= f.password_field :ticket_name, class: "form-control", placeholder: "Ticket name" %>
  </div>
  <%= f.submit "Sign Up", class: "btn btn-large btn-default" %>
  <% end %>
<script type="text/javascript">
//This need to be put on the home.js.coffee file
    $(document).ready(function() {
        $('[name="user[account_type]"]').change(function () {
    		if ($('[name="user[account_type]"]:checked').val() === "ind") {
        		//alert("it's Independent now");
        		$('#divPosition').toggle();
        		$('#divTicketName').toggle();
    			} 
    		else {
       			//alert("it's Ticket Manager now");
       			$('#divTicketName').toggle();
        		$('#divPosition').toggle();
    			}
			});
        });
</script>